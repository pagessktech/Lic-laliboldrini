<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lic. Lali Boldrini - Psicología Infantil | Terapia Grupal | Asesoría a Padres</title>
    <meta name="description" content="Psicóloga infantil especializada en terapia grupal y asesoría a padres. Espacios de crecimiento emocional para niños, adolescentes y familias.">
    
    <!-- Open Graph -->
    <meta property="og:title" content="Lic. Lali Boldrini - Psicología Infantil">
    <meta property="og:description" content="Acompañamiento profesional para familias, niños y adolescentes. Terapia presencial y online.">
    <meta property="og:image" content="https://placehold.co/1200x630/FFF8F4/8C6F78?text=Lali+Boldrini">
    <link rel="canonical" href="https://laliboldrini.com">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">

<!-- 
========================================
VARIABLES EDITABLES - CONFIGURACIÓN
========================================
Modifica estas variables según tus datos:
-->
<script>
const CONFIG = {
    PHONE_DISPLAY: "2604-412997",     // Teléfono para mostrar
    WA_E164: "5492604412997",               // WhatsApp formato E.164 (sin +)
    INSTAGRAM_HANDLE: "@laliboldrini.psi",  // Usuario Instagram
    EMAIL_CONTACT: "contacto@laliboldrini.com", // Email de contacto
    PROFILE_IMG: "https://images.unsplash.com/photo-1580489944761-15a19d654956?q=80&w=2187&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%D3D%3D", // Foto perfil
};
</script>

<style>
:root {
    --brand-cta: #FF8DAA;
    --bg: #FFF8F4;
    --card: #D2C2B7;
    --accent: #8C6F78;
    --muted: #B4B7C0;
    --text: #2A2A32;
    --white: #FFFFFF;
    --success: #25D366;
    --radius: 16px;
    --radius-sm: 8px;
    --shadow: 0 4px 24px rgba(42,42,50,0.08);
    --shadow-hover: 0 8px 32px rgba(42,42,50,0.12);
    --ease: cubic-bezier(.2,.9,.3,1);
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html {
    scroll-behavior: smooth;
}

body {
    font-family: 'Inter', sans-serif;
    color: var(--text);
    background: var(--bg);
    line-height: 1.6;
    overflow-x: hidden;
}

h1, h2, h3 {
    font-family: 'Playfair Display', serif;
    font-weight: 700;
    line-height: 1.2;
}

/* Preloader */
.preloader {
    position: fixed;
    inset: 0;
    background: linear-gradient(135deg, var(--bg) 0%, #FFF 100%);
    z-index: 10000;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    transition: opacity 0.6s var(--ease);
}

.preloader-content {
    text-align: center;
    animation: fadeInScale 0.8s var(--ease);
}

.preloader-logo {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    margin-bottom: 24px;
    opacity: 0.9;
    object-fit: cover;
}

.preloader h1 {
    font-size: 2rem;
    color: var(--text);
    margin-bottom: 8px;
}

.preloader p {
    color: var(--muted);
    font-size: 0.95rem;
    margin-bottom: 32px;
}

.progress-bar {
    width: 200px;
    height: 3px;
    background: rgba(140,111,120,0.1);
    border-radius: 3px;
    overflow: hidden;
}

.progress-fill {
    height: 100%;
    background: var(--brand-cta);
    border-radius: 3px;
    width: 0%;
    animation: loadProgress 2s var(--ease) forwards;
}

@keyframes loadProgress {
    to { width: 100%; }
}

@keyframes fadeInScale {
    from {
        opacity: 0;
        transform: scale(0.95);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}

/* Skip Link */
.skip-to-content {
    position: absolute;
    left: -9999px;
    z-index: 999;
    padding: 12px 24px;
    background: var(--brand-cta);
    color: white;
    text-decoration: none;
    border-radius: var(--radius-sm);
}

.skip-to-content:focus {
    left: 50%;
    transform: translateX(-50%);
    top: 16px;
}

/* Header */
header {
    position: fixed;
    top: 0;
    width: 100%;
    background: rgba(255,248,244,0.9);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    z-index: 1000;
    padding: 16px 24px;
    box-shadow: 0 1px 12px rgba(0,0,0,0.05);
    transition: all 0.3s var(--ease);
}

nav {
    max-width: 1200px;
    margin: 0 auto;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.logo {
    display: flex;
    align-items: center;
    gap: 12px;
    text-decoration: none;
    color: var(--text);
}

.logo img {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    object-fit: cover;
}

.logo span {
    font-family: 'Playfair Display', serif;
    font-size: 1.2rem;
    font-weight: 700;
}

.nav-links {
    display: flex;
    gap: 32px;
    align-items: center;
    list-style: none;
}

.nav-links a {
    color: var(--text);
    text-decoration: none;
    font-weight: 500;
    font-size: 0.95rem;
    transition: color 0.2s;
    position: relative;
    padding-bottom: 4px;
}

.nav-links a:hover {
    color: var(--brand-cta);
}

.nav-links a::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 0;
    height: 2px;
    background: var(--brand-cta);
    transition: width 0.3s var(--ease);
}

.nav-links a:hover::after {
    width: 100%;
}

.btn {
    padding: 10px 24px;
    border-radius: var(--radius-sm);
    text-decoration: none;
    font-weight: 600;
    transition: all 0.2s;
    border: none;
    cursor: pointer;
    display: inline-block;
}

.btn-primary {
    background: var(--brand-cta);
    color: white;
}

.btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-hover);
}

.btn-secondary {
    background: transparent;
    color: var(--text);
    border: 2px solid var(--card);
}

.btn-secondary:hover {
    background: var(--card);
    color: var(--white);
    transform: translateY(-2px);
}

.menu-toggle {
    display: none;
    background: transparent;
    border: none;
    cursor: pointer;
    padding: 8px;
    z-index: 1001;
}
.menu-toggle .icon-menu, .menu-toggle .icon-close {
    width: 24px;
    height: 24px;
    stroke: var(--text);
}
.menu-toggle .icon-close { display: none; }
.menu-toggle.active .icon-menu { display: none; }
.menu-toggle.active .icon-close { display: block; }

/* Hero */
.hero {
    margin-top: 72px;
    min-height: 90vh;
    display: flex;
    align-items: center;
    position: relative;
    overflow: hidden;
}

.hero::before {
    content: '';
    position: absolute;
    top: -50%;
    right: -20%;
    width: 80%;
    height: 150%;
    background: radial-gradient(ellipse at center, var(--accent) 0%, transparent 60%);
    opacity: 0.08;
    pointer-events: none;
}

.hero-content {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 24px;
    z-index: 1;
    position: relative;
}

.hero h1 {
    font-size: clamp(2.5rem, 5vw, 4rem);
    margin-bottom: 16px;
    color: var(--text);
    opacity: 0;
    animation: fadeUp 0.8s 0.3s var(--ease) forwards;
}

.hero-subtitle {
    font-size: 1.25rem;
    color: var(--accent);
    margin-bottom: 32px;
    font-weight: 400;
    max-width: 600px;
    opacity: 0;
    animation: fadeUp 0.8s 0.5s var(--ease) forwards;
}

.hero-buttons {
    display: flex;
    gap: 16px;
    flex-wrap: wrap;
    margin-bottom: 48px;
    opacity: 0;
    animation: fadeUp 0.8s 0.7s var(--ease) forwards;
}

.hero-meta {
    display: flex;
    gap: 24px;
    flex-wrap: wrap;
    opacity: 0;
    animation: fadeUp 0.8s 0.9s var(--ease) forwards;
}

.meta-item {
    display: flex;
    align-items: center;
    gap: 8px;
    color: var(--muted);
    font-size: 0.95rem;
}
.meta-item svg {
    width: 20px;
    height: 20px;
    color: var(--brand-cta);
}

@keyframes fadeUp {
    to {
        opacity: 1;
        transform: translateY(0);
    }
    from {
        opacity: 0;
        transform: translateY(20px);
    }
}

/* Sections */
section {
    padding: 80px 24px;
    max-width: 1200px;
    margin: 0 auto;
}

.section-title {
    font-size: clamp(2rem, 4vw, 3rem);
    text-align: center;
    margin-bottom: 48px;
    color: var(--text);
}

.fade-in {
    opacity: 0;
    transform: translateY(30px);
    transition: all 0.6s var(--ease);
}

.fade-in.visible {
    opacity: 1;
    transform: translateY(0);
}

/* About */
.about-content {
    display: grid;
    grid-template-columns: 200px 1fr;
    gap: 48px;
    align-items: center;
}

.profile-image {
    width: 200px;
    height: 200px;
    border-radius: 50%;
    object-fit: cover;
    box-shadow: var(--shadow);
}

.about-text h3 {
    font-size: 1.5rem;
    margin-bottom: 16px;
    color: var(--accent);
}

.about-text p {
    margin-bottom: 16px;
    color: var(--text);
    line-height: 1.8;
}

/* Services */
.services-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 32px;
}

.service-card {
    background: white;
    padding: 32px;
    border-radius: var(--radius);
    box-shadow: var(--shadow);
    transition: all 0.3s var(--ease);
    display: flex;
    flex-direction: column;
}

.service-card:hover {
    transform: translateY(-4px) scale(1.02);
    box-shadow: var(--shadow-hover);
}

.service-icon {
    width: 48px;
    height: 48px;
    color: var(--brand-cta);
    margin-bottom: 16px;
}

.service-card h3 {
    font-size: 1.25rem;
    margin-bottom: 12px;
    color: var(--text);
}

.service-card ul {
    list-style: none;
    margin-bottom: 24px;
    flex-grow: 1;
}

.service-card li {
    padding-left: 20px;
    position: relative;
    margin-bottom: 8px;
    color: var(--muted);
    font-size: 0.95rem;
}

.service-card li::before {
    content: '✓';
    position: absolute;
    left: 0;
    color: var(--brand-cta);
}

/* Benefits */
.benefits-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 32px;
}

.benefit-item {
    text-align: center;
}

.benefit-icon {
    width: 64px;
    height: 64px;
    margin: 0 auto 16px;
    color: var(--brand-cta);
}

/* Testimonials */
.testimonials-carousel {
    position: relative;
    overflow: hidden;
    padding: 0 48px;
}

.testimonials-track {
    display: flex;
    transition: transform 0.5s var(--ease);
}

.testimonial {
    min-width: 100%;
    flex-shrink: 0;
    padding: 0 16px;
}

.testimonial-card {
    background: white;
    padding: 32px;
    border-radius: var(--radius);
    box-shadow: var(--shadow);
    max-width: 700px;
    margin: 0 auto;
}

.testimonial-card p {
    font-size: 1.1rem;
    line-height: 1.8;
    margin-bottom: 16px;
    font-style: italic;
    position: relative;
    padding-left: 24px;
}
.testimonial-card p::before {
    content: '“';
    position: absolute;
    left: 0;
    top: 0;
    font-size: 2rem;
    color: var(--brand-cta);
    line-height: 1;
}

.testimonial-author {
    color: var(--accent);
    font-weight: 600;
    text-align: right;
}

.carousel-btn {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background: var(--brand-cta);
    color: white;
    border: none;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    cursor: pointer;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    justify-content: center;
}

.carousel-btn:hover {
    transform: translateY(-50%) scale(1.1);
}
.carousel-btn svg {
    width: 20px;
    height: 20px;
}

.carousel-btn.prev { left: 0; }
.carousel-btn.next { right: 0; }

/* FAQ */
.faq-container {
    max-width: 800px;
    margin: 0 auto;
}

.faq-item {
    background: white;
    margin-bottom: 16px;
    border-radius: var(--radius-sm);
    overflow: hidden;
    box-shadow: var(--shadow);
}

.faq-question {
    width: 100%;
    padding: 20px;
    background: white;
    border: none;
    text-align: left;
    cursor: pointer;
    font-weight: 600;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: background 0.2s;
}

.faq-question:hover {
    background: #fdfcfa;
}

.faq-question .faq-icon {
    transition: transform 0.3s var(--ease);
    width: 24px;
    height: 24px;
    color: var(--brand-cta);
}

.faq-item.active .faq-question .faq-icon {
    transform: rotate(45deg);
}

.faq-answer {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.3s var(--ease);
    padding: 0 20px;
}

.faq-item.active .faq-answer {
    max-height: 300px;
    padding: 0 20px 20px;
}

/* Contact */
.contact-content {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 48px;
    align-items: center;
}

.map-container {
    width: 100%;
    height: 450px;
    border-radius: var(--radius);
    overflow: hidden;
    box-shadow: var(--shadow);
}

.map-container iframe {
    width: 100%;
    height: 100%;
    border: 0;
}

.contact-info h3 {
    margin-bottom: 24px;
    color: var(--accent);
}

.contact-item {
    display: flex;
    align-items: center;
    gap: 16px;
    margin-bottom: 20px;
}
.contact-item svg {
    width: 24px;
    height: 24px;
    color: var(--accent);
}
.contact-item a {
    color: var(--text);
    text-decoration: none;
    transition: color 0.2s;
}
.contact-item a:hover {
    color: var(--brand-cta);
}

/* Floating Buttons */
.floating-buttons {
    position: fixed;
    bottom: 24px;
    right: 24px;
    display: flex;
    flex-direction: column;
    gap: 12px;
    z-index: 100;
}

.floating-btn {
    width: 56px;
    height: 56px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    text-decoration: none;
    box-shadow: var(--shadow);
    transition: all 0.3s;
    position: relative;
    color: white;
}
.floating-btn svg {
    width: 28px;
    height: 28px;
}

.floating-btn:hover {
    transform: scale(1.1);
    box-shadow: var(--shadow-hover);
}

.floating-btn.whatsapp {
    background: var(--success);
}

.floating-btn.instagram {
    background: linear-gradient(45deg, #F58529, #DD2A7B, #8134AF);
}

.floating-btn::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 50%;
    background: inherit;
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0%, 100% { transform: scale(1); opacity: 1; }
    50% { transform: scale(1.3); opacity: 0; }
}

/* Chatbot */
.chatbot-widget {
    position: fixed;
    bottom: 24px;
    left: 24px;
    z-index: 100;
}

.chatbot-toggle {
    width: 56px;
    height: 56px;
    border-radius: 50%;
    background: var(--accent);
    color: white;
    border: none;
    cursor: pointer;
    box-shadow: var(--shadow);
    transition: all 0.3s;
    display: flex;
    align-items: center;
    justify-content: center;
}
.chatbot-toggle svg {
    width: 28px;
    height: 28px;
}

.chatbot-toggle:hover {
    transform: scale(1.1);
}

.chatbot-container {
    position: absolute;
    bottom: 72px;
    left: 0;
    width: 350px;
    height: 450px;
    background: white;
    border-radius: var(--radius);
    box-shadow: var(--shadow-hover);
    display: flex;
    flex-direction: column;
    transform: translateY(20px) scale(0.95);
    opacity: 0;
    pointer-events: none;
    transition: all 0.3s var(--ease);
}

.chatbot-container.active {
    transform: translateY(0) scale(1);
    opacity: 1;
    pointer-events: auto;
}

.chatbot-header {
    padding: 16px;
    background: var(--accent);
    color: white;
    border-radius: var(--radius) var(--radius) 0 0;
    display: flex;
    justify-content: space-between;
    align-items: center;
}
.chatbot-header button {
    background: none;
    border: none;
    color: white;
    font-size: 1.2rem;
    cursor: pointer;
}

.chatbot-messages {
    flex: 1;
    padding: 16px;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.message {
    padding: 12px;
    border-radius: var(--radius-sm);
    max-width: 80%;
    line-height: 1.5;
    animation: fadeInScale 0.3s var(--ease);
}

.message.bot {
    background: var(--bg);
    align-self: flex-start;
}

.message.user {
    background: var(--brand-cta);
    color: white;
    align-self: flex-end;
}

.chatbot-input {
    padding: 16px;
    border-top: 1px solid #e0e0e0;
    display: flex;
    gap: 8px;
}

.chatbot-input input {
    flex: 1;
    padding: 8px 12px;
    border: 1px solid #e0e0e0;
    border-radius: var(--radius-sm);
}
.chatbot-input input:focus {
    outline: none;
    border-color: var(--brand-cta);
}

.chatbot-input button {
    padding: 8px 16px;
    background: var(--brand-cta);
    color: white;
    border: none;
    border-radius: var(--radius-sm);
    cursor: pointer;
}

/* Modal */
.modal-overlay {
    position: fixed;
    inset: 0;
    background: rgba(42,42,50,0.7);
    z-index: 2000;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s var(--ease);
}
.modal-overlay.active {
    opacity: 1;
    pointer-events: auto;
}

.modal-content {
    background: white;
    padding: 40px;
    border-radius: var(--radius);
    max-width: 600px;
    width: 90%;
    position: relative;
    box-shadow: var(--shadow-hover);
    transform: scale(0.95);
    transition: transform 0.3s var(--ease);
}
.modal-overlay.active .modal-content {
    transform: scale(1);
}

.modal-content h3 {
    margin-bottom: 16px;
    color: var(--accent);
}
.modal-content p {
    margin-bottom: 24px;
}

.modal-close {
    position: absolute;
    top: 16px;
    right: 16px;
    background: none;
    border: none;
    cursor: pointer;
    padding: 8px;
}
.modal-close svg {
    width: 24px;
    height: 24px;
    color: var(--muted);
    transition: color 0.2s;
}
.modal-close:hover svg {
    color: var(--text);
}


/* Footer */
footer {
    background: var(--text);
    color: var(--bg);
    padding: 48px 24px 24px;
    text-align: center;
}

.footer-content {
    max-width: 1200px;
    margin: 0 auto;
}

.social-links {
    display: flex;
    justify-content: center;
    gap: 24px;
    margin-bottom: 24px;
}

.social-links a {
    color: var(--bg);
    text-decoration: none;
    transition: transform 0.2s, color 0.2s;
    display: flex;
    align-items: center;
    gap: 8px;
}
.social-links svg {
    width: 20px;
    height: 20px;
}

.social-links a:hover {
    transform: translateY(-2px);
    color: var(--brand-cta);
}

/* Mobile */
@media (max-width: 768px) {
    .nav-links { 
        display: none; 
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: var(--bg);
        flex-direction: column;
        padding: 24px;
        justify-content: center;
        align-items: center;
        font-size: 1.5rem;
        gap: 40px;
        transition: transform 0.4s var(--ease);
        transform: translateX(100%);
    }
    
    .nav-links.mobile-active {
        display: flex;
        transform: translateX(0);
    }
    .menu-toggle { display: block; }
    
    .about-content {
        grid-template-columns: 1fr;
        text-align: center;
    }
    
    .profile-image {
        margin: 0 auto;
    }
    
    .contact-content {
        grid-template-columns: 1fr;
    }
    .contact-info {
        order: -1;
    }
    
    .chatbot-container {
        width: calc(100vw - 48px);
        max-width: 350px;
    }
}

/* Accessibility */
*:focus-visible {
    outline: 2px solid var(--brand-cta);
    outline-offset: 2px;
}
.form-group input:focus, .form-group textarea:focus, .chatbot-input input:focus {
    outline: none;
}

@media (prefers-reduced-motion: reduce) {
    *, *::before, *::after {
        animation: none !important;
        transition: none !important;
    }
}
</style>

<!-- JSON-LD Schema -->
<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "ProfessionalService",
    "name": "Lic. Lali Boldrini",
    "description": "Psicología infantil, terapia grupal y asesoría a padres",
    "@id": "https://laliboldrini.com",
    "url": "https://laliboldrini.com",
    "telephone": "+54 11 1234-5678",
    "priceRange": "$$",
    "image": "https://images.unsplash.com/photo-1580489944761-15a19d654956?q=80&w=2187&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%D3D%D3D",
    "address": {
        "@type": "PostalAddress",
        "addressLocality": "Buenos Aires",
        "addressCountry": "AR"
    },
    "sameAs": [
        "https://instagram.com/laliboldrini.psi"
    ]
}
</script>
</head>
<body>
    <!-- SVG Icons Definition -->
    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
        <symbol id="icon-individual" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></symbol>
        <symbol id="icon-group" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></symbol>
        <symbol id="icon-parents" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12.67 18.25a4.42 4.42 0 0 1-5.34 0C4.26 16.69 2 14.33 2 12c0-3.23 2.94-5.5 7-5.5s7 2.27 7 5.5c0 2.33-2.26 4.69-5.33 6.25Z"></path><path d="M18 19a2 2 0 0 0 2-2v-1a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v1a2 2 0 0 0 2 2v0Z"></path><path d="M6 19a2 2 0 0 0 2-2v-1a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v1a2 2 0 0 0 2 2v0Z"></path><path d="M12 11a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2v0Z"></path></symbol>
        <symbol id="icon-workshops" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></symbol>
        <symbol id="icon-heart" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></symbol>
        <symbol id="icon-palette" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="13.5" cy="6.5" r=".5" fill="currentColor"></circle><circle cx="17.5" cy="10.5" r=".5" fill="currentColor"></circle><circle cx="8.5" cy="7.5" r=".5" fill="currentColor"></circle><circle cx="6.5" cy="12.5" r=".5" fill="currentColor"></circle><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z"></path></symbol>
        <symbol id="icon-family" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12.67 18.25a4.42 4.42 0 0 1-5.34 0C4.26 16.69 2 14.33 2 12c0-3.23 2.94-5.5 7-5.5s7 2.27 7 5.5c0 2.33-2.26 4.69-5.33 6.25Z"></path><path d="M18 19a2 2 0 0 0 2-2v-1a2 2 0 0 0-2-2h0a2 2 0 0 0-2 2v1a2 2 0 0 0 2 2Z"></path><path d="M6 19a2 2 0 0 0 2-2v-1a2 2 0 0 0-2-2h0a2 2 0 0 0-2 2v1a2 2 0 0 0 2 2Z"></path><path d="M12 11a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h0a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2Z"></path></symbol>
        <symbol id="icon-star" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></symbol>
        <symbol id="icon-plus" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></symbol>
        <symbol id="icon-phone" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path></symbol>
        <symbol id="icon-mail" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="4" width="20" height="16" rx="2"></rect><polyline points="22,6 12,13 2,6"></polyline></symbol>
        <symbol id="icon-map-pin" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></symbol>
        <symbol id="icon-clock" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></symbol>
        <symbol id="icon-whatsapp" viewBox="0 0 24 24" fill="currentColor"><path d="M16.75,13.96C17,14.26 17.16,14.63 17.16,15.15C17.16,16.22 16.14,17.2 15.13,17.33C14.07,17.47 12.5,17 11.04,15.75C9.2,14.21 8,12.27 7.86,12C7.73,11.72 7.24,10.68 7.24,9.65C7.24,8.62 7.72,8.16 7.97,7.91C8.21,7.66 8.52,7.59 8.81,7.59C9,7.59 9.16,7.6 9.3,7.61C9.6,7.63 9.77,7.65 9.96,8.11C10.16,8.57 10.6,9.81 10.7,9.97C10.8,10.13 10.83,10.3 10.7,10.46C10.57,10.62 10.43,10.79 10.24,11C10.05,11.21 9.88,11.33 9.74,11.47C9.6,11.62 9.45,11.75 9.61,12.04C9.77,12.34 10.32,13.25 11.16,14.01C12.15,14.91 12.91,15.21 13.2,15.28C13.5,15.35 13.63,15.31 13.79,15.15C13.95,14.98 14.23,14.65 14.48,14.37C14.73,14.08 14.97,14.04 15.26,14.14C15.55,14.24 16.44,14.69 16.63,14.78C16.82,14.86 16.94,14.91 17,14.97L16.75,13.96M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22C13.66,22 15.24,21.5 16.6,20.62L20.97,22L22,17.65C22.9,16.27 23.41,14.7 23.41,13.06C23.41,7.54 18.46,3.13 12,3.13A9.87,9.87 0 0,0 2,13A9.87,9.87 0 0,0 12,23C13.5,23 15,22.5 16.3,21.62L20,23L21,18.65C22,17.27 22.5,15.7 22.5,14A9.5,9.5 0 0,0 12,2Z"></path></symbol>
        <symbol id="icon-instagram" viewBox="0 0 24 24" fill="currentColor"><path d="M7.8,2H16.2C19.4,2 22,4.6 22,7.8V16.2A5.8,5.8 0 0,1 16.2,22H7.8C4.6,22 2,19.4 2,16.2V7.8A5.8,5.8 0 0,1 7.8,2M7.6,4A3.6,3.6 0 0,0 4,7.6V16.4C4,18.39 5.61,20 7.6,20H16.4A3.6,3.6 0 0,0 20,16.4V7.6C20,5.61 18.39,4 16.4,4H7.6M17.25,5.5A1.25,1.25 0 0,1 18.5,6.75A1.25,1.25 0 0,1 17.25,8A1.25,1.25 0 0,1 16,6.75A1.25,1.25 0 0,1 17.25,5.5M12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9Z"></path></symbol>
        <symbol id="icon-chat" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></symbol>
        <symbol id="icon-chevron-left" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"></polyline></symbol>
        <symbol id="icon-chevron-right" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></symbol>
        <symbol id="icon-x" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></symbol>
    </svg>

    <!-- Skip to content -->
    <a href="#main" class="skip-to-content">Saltar al contenido principal</a>
    
    <!-- Preloader -->
    <div class="preloader" id="preloader">
        <div class="preloader-content">
            <img src="" alt="Logo" class="preloader-logo" id="preloaderLogo">
            <h1>Lic. Lali Boldrini</h1>
            <p>Psicología infantil</p>
            <div class="progress-bar">
                <div class="progress-fill"></div>
            </div>
        </div>
    </div>
    
    <!-- Header -->
    <header>
        <nav role="navigation">
            <a href="#" class="logo">
                <img src="" alt="Lali Boldrini" id="navLogo">
                <span>Lali Boldrini</span>
            </a>
            <ul class="nav-links" id="navLinks">
                <li><a href="#hero">Inicio</a></li>
                <li><a href="#sobre">Sobre mí</a></li>
                <li><a href="#servicios">Servicios</a></li>
                <li><a href="#beneficios">Beneficios</a></li>
                <li><a href="#testimonios">Testimonios</a></li>
                <li><a href="#faq">FAQ</a></li>
                <li><a href="#contacto" class="btn btn-primary">Agendar consulta</a></li>
            </ul>
            <button class="menu-toggle" id="menuToggle" aria-label="Abrir menú" aria-expanded="false" aria-controls="navLinks">
                <svg class="icon-menu" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
                <svg class="icon-close" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
            </button>
        </nav>
    </header>
    
    <!-- Main content -->
    <main id="main">
        <!-- Hero -->
        <section class="hero" id="hero">
            <div class="hero-content">
                <h1>Lic. Lali Boldrini</h1>
                <p class="hero-subtitle">Psicología infantil · Terapia grupal · Asesoría a padres</p>
                <div class="hero-buttons">
                    <a href="#" class="btn btn-primary" id="heroCtaPrimary">Agendar consulta</a>
                    <a href="#servicios" class="btn btn-secondary">Conocé mis servicios</a>
                </div>
                <div class="hero-meta">
                    <span class="meta-item"><svg><use href="#icon-chat"></use></svg>Atención presencial y virtual</span>
                    <span class="meta-item"><svg><use href="#icon-heart"></use></svg>Obras sociales atendidas</span>
                </div>
            </div>
        </section>
        
        <!-- Sobre mí -->
        <section id="sobre" class="fade-in">
            <h2 class="section-title">Sobre mí</h2>
            <div class="about-content">
                <img src="" alt="Lic. Lali Boldrini" class="profile-image" id="profileImg">
                <div class="about-text">
                    <h3>Un espacio de crecimiento emocional</h3>
                    <p>Soy Lic. Lali Boldrini, psicóloga infantil y terapeuta grupal. Creo espacios de crecimiento emocional: acompaño a familias, niños y adolescentes para fortalecer vínculos y superar desafíos.</p>
                    <p>Mi enfoque integra herramientas sistémicas y prácticas que respetan la singularidad de cada familia. Trabajo con dedicación para crear un ambiente seguro donde cada niño pueda expresarse libremente y desarrollar su potencial.</p>
                    <button class="btn btn-secondary" onclick="showMethodology()">Conocé mi enfoque</button>
                </div>
            </div>
        </section>
        
        <!-- Servicios -->
        <section id="servicios" class="fade-in">
            <h2 class="section-title">Mis servicios</h2>
            <div class="services-grid">
                <div class="service-card">
                    <svg class="service-icon"><use href="#icon-individual"></use></svg>
                    <h3>Terapia individual</h3>
                    <ul>
                        <li>Niños y adolescentes</li>
                        <li>Manejo de emociones</li>
                        <li>Desarrollo de habilidades sociales</li>
                    </ul>
                    <a href="#contacto" class="btn btn-primary">Solicitar turno</a>
                </div>
                <div class="service-card">
                    <svg class="service-icon"><use href="#icon-group"></use></svg>
                    <h3>Terapia grupal</h3>
                    <ul>
                        <li>Grupos por edades</li>
                        <li>Habilidades sociales</li>
                        <li>Gestión emocional</li>
                    </ul>
                    <a href="#contacto" class="btn btn-primary">Solicitar turno</a>
                </div>
                <div class="service-card">
                    <svg class="service-icon"><use href="#icon-parents"></use></svg>
                    <h3>Asesoría a padres</h3>
                    <ul>
                        <li>Orientación parental</li>
                        <li>Disciplina positiva</li>
                        <li>Comunicación familiar</li>
                    </ul>
                    <a href="#contacto" class="btn btn-primary">Solicitar turno</a>
                </div>
                <div class="service-card">
                    <svg class="service-icon"><use href="#icon-workshops"></use></svg>
                    <h3>Talleres educativos</h3>
                    <ul>
                        <li>Charlas para padres</li>
                        <li>Talleres en escuelas</li>
                        <li>Capacitaciones</li>
                    </ul>
                    <a href="#contacto" class="btn btn-primary">Solicitar turno</a>
                </div>
            </div>
        </section>
        
        <!-- Beneficios -->
        <section id="beneficios" class="fade-in">
            <h2 class="section-title">Beneficios del acompañamiento</h2>
            <div class="benefits-grid">
                <div class="benefit-item">
                    <svg class="benefit-icon"><use href="#icon-heart"></use></svg>
                    <h3>Acompañamiento humano</h3>
                    <p>Enfoque profesional y cálido adaptado a cada familia</p>
                </div>
                <div class="benefit-item">
                    <svg class="benefit-icon"><use href="#icon-palette"></use></svg>
                    <h3>Técnicas adaptadas</h3>
                    <p>Herramientas lúdicas y creativas según la edad</p>
                </div>
                <div class="benefit-item">
                    <svg class="benefit-icon"><use href="#icon-family"></use></svg>
                    <h3>Trabajo familiar</h3>
                    <p>Fortalecimiento de vínculos y comunicación</p>
                </div>
                <div class="benefit-item">
                    <svg class="benefit-icon"><use href="#icon-star"></use></svg>
                    <h3>Mejora del bienestar</h3>
                    <p>Reducción del estrés y aumento de la autoestima</p>
                </div>
            </div>
        </section>
        
        <!-- Testimonios -->
        <section id="testimonios" class="fade-in">
            <h2 class="section-title">Lo que dicen las familias</h2>
            <div class="testimonials-carousel">
                <div class="testimonials-track" id="testimonialsTrack">
                    <div class="testimonial">
                        <div class="testimonial-card">
                            <p>"Gracias a Lali, mi hija volvió a confiar en sí misma. Su enfoque cálido y profesional marcó la diferencia."</p>
                            <span class="testimonial-author">— María, mamá de Sofía</span>
                        </div>
                    </div>
                    <div class="testimonial">
                        <div class="testimonial-card">
                            <p>"El trabajo grupal ayudó mucho a mi hijo con sus habilidades sociales. Recomiendo totalmente a Lali."</p>
                            <span class="testimonial-author">— Carlos, papá de Tomás</span>
                        </div>
                    </div>
                    <div class="testimonial">
                        <div class="testimonial-card">
                            <p>"La asesoría parental nos dio herramientas concretas para mejorar la comunicación en casa."</p>
                            <span class="testimonial-author">— Ana y Roberto</span>
                        </div>
                    </div>
                </div>
                <button class="carousel-btn prev" onclick="moveCarousel(-1)" aria-label="Anterior"><svg><use href="#icon-chevron-left"></use></svg></button>
                <button class="carousel-btn next" onclick="moveCarousel(1)" aria-label="Siguiente"><svg><use href="#icon-chevron-right"></use></svg></button>
            </div>
        </section>
        
        <!-- FAQ -->
        <section id="faq" class="fade-in">
            <h2 class="section-title">Preguntas frecuentes</h2>
            <div class="faq-container">
                <div class="faq-item">
                    <button class="faq-question" aria-expanded="false">¿Atienden obras sociales?<svg class="faq-icon"><use href="#icon-plus"></use></svg></button>
                    <div class="faq-answer">
                        <p>Sí, trabajamos con varias obras sociales. Consultá cobertura específica al agendar tu primera consulta.</p>
                    </div>
                </div>
                <div class="faq-item">
                    <button class="faq-question" aria-expanded="false">¿Hacen sesiones online?<svg class="faq-icon"><use href="#icon-plus"></use></svg></button>
                    <div class="faq-answer">
                        <p>Sí, ofrecemos sesiones virtuales para mayor comodidad. Las sesiones online mantienen la misma calidad y dedicación.</p>
                    </div>
                </div>
                <div class="faq-item">
                    <button class="faq-question" aria-expanded="false">¿Cuánto dura cada sesión?<svg class="faq-icon"><use href="#icon-plus"></use></svg></button>
                    <div class="faq-answer">
                        <p>Las sesiones individuales duran aproximadamente 45-50 minutos. Las grupales pueden extenderse hasta 90 minutos.</p>
                    </div>
                </div>
                <div class="faq-item">
                    <button class="faq-question" aria-expanded="false">¿Cómo agendo una primera consulta?<svg class="faq-icon"><use href="#icon-plus"></use></svg></button>
                    <div class="faq-answer">
                        <p>Podés contactarte por WhatsApp, Instagram o completar el formulario de contacto. Te responderé a la brevedad.</p>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Contacto -->
        <section id="contacto" class="fade-in">
            <h2 class="section-title">Contacto y Ubicación</h2>
            <div class="contact-content">
                <div class="map-container">
                    <iframe 
                        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3284.016709386763!2d-58.38456208477024!3d-34.60373288045952!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x95bccac6565b95b5%3A0x2774e578c238871!2sCarlos%20Pellegrini%20449%2C%20C1009ABH%20CABA!5e0!3m2!1ses!2sar!4v1664560123456!5m2!1ses!2sar" 
                        width="600" 
                        height="450" 
                        style="border:0;" 
                        allowfullscreen="" 
                        loading="lazy" 
                        referrerpolicy="no-referrer-when-downgrade">
                    </iframe>
                </div>
                <div class="contact-info">
                    <h3>Información de contacto</h3>
                    <div class="contact-item">
                        <svg><use href="#icon-phone"></use></svg>
                        <a href="tel:" id="phoneLink">Llamar</a>
                    </div>
                    <div class="contact-item">
                        <svg><use href="#icon-mail"></use></svg>
                        <a href="mailto:" id="emailLink">Enviar email</a>
                    </div>
                    <div class="contact-item">
                        <svg><use href="#icon-map-pin"></use></svg>
                        <span>Pellegrini 449, Buenos Aires, Argentina</span>
                    </div>
                    <div class="contact-item">
                        <svg><use href="#icon-clock"></use></svg>
                        <span>8:00 am a 20:00 pm</span>
                    </div>
                    <a href="#" id="contactCta" class="btn btn-primary" style="margin-top: 24px; text-align: center;">Agendar Consulta por WhatsApp</a>
                </div>
            </div>
        </section>
    </main>
    
    <!-- Floating buttons -->
    <div class="floating-buttons">
        <a href="#" class="floating-btn whatsapp" id="waButton" aria-label="Contactar por WhatsApp" target="_blank" rel="noopener noreferrer">
            <svg><use href="#icon-whatsapp"></use></svg>
        </a>
        <a href="#" class="floating-btn instagram" id="igButton" aria-label="Ir a Instagram" target="_blank" rel="noopener noreferrer">
            <svg><use href="#icon-instagram"></use></svg>
        </a>
    </div>
    
    <!-- Chatbot -->
    <div class="chatbot-widget">
        <button class="chatbot-toggle" id="chatbotToggle" aria-label="Abrir chat de asistente virtual">
            <svg><use href="#icon-chat"></use></svg>
        </button>
        <div class="chatbot-container" id="chatbotContainer" role="dialog" aria-modal="true" aria-hidden="true">
            <div class="chatbot-header">
                <span>Asistente virtual</span>
                <button onclick="toggleChatbot()" aria-label="Cerrar chat">✕</button>
            </div>
            <div class="chatbot-messages" id="chatMessages" role="log" aria-live="polite"></div>
            <form class="chatbot-input" id="chatForm">
                <input type="text" id="chatInput" placeholder="Escribí tu consulta...">
                <button type="submit">Enviar</button>
            </form>
        </div>
    </div>

    <!-- Modal for Methodology -->
    <div class="modal-overlay" id="methodologyModal" role="dialog" aria-modal="true" aria-hidden="true">
        <div class="modal-content">
            <button class="modal-close" aria-label="Cerrar ventana" onclick="hideMethodology()"><svg><use href="#icon-x"></use></svg></button>
            <h3>Mi enfoque y metodología</h3>
            <p>Mi metodología integra técnicas sistémicas, lúdicas y expresivas adaptadas a cada edad. Trabajo desde el respeto y la empatía, creando un espacio seguro para el desarrollo emocional.</p>
            <p>El objetivo es fortalecer los vínculos familiares, mejorar la comunicación y dotar a niños y padres de herramientas prácticas para afrontar los desafíos del día a día.</p>
            <button class="btn btn-primary" onclick="hideMethodology()">Entendido</button>
        </div>
    </div>
    
    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="social-links">
                <a href="#" id="footerWa" target="_blank" rel="noopener noreferrer"><svg><use href="#icon-whatsapp"></use></svg>WhatsApp</a>
                <a href="#" id="footerIg" target="_blank" rel="noopener noreferrer"><svg><use href="#icon-instagram"></use></svg>Instagram</a>
                <a href="mailto:" id="footerEmail"><svg><use href="#icon-mail"></use></svg>Email</a>
            </div>
            <p>© 2024 Lic. Lali Boldrini. Todos los derechos reservados.</p>
            <p><a href="#" style="color: var(--muted); text-decoration: none;">Aviso legal</a> | <a href="#" style="color: var(--muted); text-decoration: none;">Política de privacidad</a></p>
        </div>
    </footer>

<script>
// API Key provided by user
const GEMINI_API_KEY = "AIzaSyALdOIeOHGgbv5Lrhplw8-gZ_yHHA_-LuM";

// Knowledge base for chatbot
const knowledgeBase = {
    nombre: "Lic. Lali Boldrini",
    profesion: "Psicóloga infantil",
    especialidades: ["terapia grupal", "asesoría parental"],
    enfoque: "Sistémico, lúdico y expresivo, creando un espacio seguro para el desarrollo emocional.",
    servicios: {
        individual: "Terapia individual para niños y adolescentes, manejo de emociones y desarrollo de habilidades sociales.",
        grupal: "Terapia grupal por edades, enfocada en habilidades sociales y gestión emocional.",
        padres: "Asesoría a padres con orientación en disciplina positiva y comunicación familiar.",
        talleres: "Talleres educativos, charlas para padres y capacitaciones en escuelas."
    },
    beneficios: "Acompañamiento profesional humano, técnicas adaptadas a cada edad, trabajo con la familia, mejora en comunicación y autoestima.",
    horarios: "Atención de 8:00 am a 20:00 pm.",
    modalidad: "Ofrecemos sesiones presenciales en Pellegrini 449 (Buenos Aires, Argentina) y también sesiones online.",
    obras_sociales: "Sí, trabajamos con varias obras sociales. Es necesario consultar por la cobertura específica.",
    contacto: "El contacto principal es por WhatsApp o Instagram."
};

// Initialize configuration
document.addEventListener('DOMContentLoaded', function() {
    // Set profile images
    document.getElementById('preloaderLogo').src = CONFIG.PROFILE_IMG;
    document.getElementById('navLogo').src = CONFIG.PROFILE_IMG;
    document.getElementById('profileImg').src = CONFIG.PROFILE_IMG;
    
    // Set contact links
    const waLink = `https://wa.me/${CONFIG.WA_E164}`;
    document.getElementById('waButton').href = waLink;
    document.getElementById('footerWa').href = waLink;
    
    const igLink = `https://instagram.com/${CONFIG.INSTAGRAM_HANDLE.replace('@', '')}`;
    document.getElementById('igButton').href = igLink;
    document.getElementById('footerIg').href = igLink;
    
    document.getElementById('phoneLink').href = `tel:${CONFIG.PHONE_DISPLAY.replace(/\s/g, '')}`;
    document.getElementById('phoneLink').textContent = CONFIG.PHONE_DISPLAY;
    
    document.getElementById('emailLink').href = `mailto:${CONFIG.EMAIL_CONTACT}`;
    document.getElementById('emailLink').textContent = CONFIG.EMAIL_CONTACT;
    document.getElementById('footerEmail').href = `mailto:${CONFIG.EMAIL_CONTACT}`;
    
    // Set all CTA buttons to go to WhatsApp
    const waMessage = '?text=Hola!%20Vengo%20desde%20la%20web%20y%20quisiera%20agendar%20una%20consulta.';
    const fullWaLink = waLink + waMessage;

    document.querySelectorAll('.btn-primary').forEach(button => {
        // Check if the button is for scheduling
        const buttonText = button.textContent || button.innerText;
        if (buttonText.includes('Agendar') || buttonText.includes('Solicitar')) {
            button.href = fullWaLink;
            button.target = '_blank';
            button.rel = 'noopener noreferrer';
        }
    });
    
    // Initialize functionalities
    initializeIntersectionObserver();
    initializeFAQ();
    initializeChatbot();
    initializeMobileMenu();
    
});

// Preloader
window.addEventListener('load', function() {
    setTimeout(() => {
        document.getElementById('preloader').style.opacity = '0';
        setTimeout(() => {
            document.getElementById('preloader').style.display = 'none';
        }, 600);
    }, 1500);
});

// Intersection Observer for animations
function initializeIntersectionObserver() {
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('visible');
            }
        });
    }, { threshold: 0.1 });
    
    document.querySelectorAll('.fade-in').forEach(el => observer.observe(el));
}

// Mobile Menu
function initializeMobileMenu() {
    const menuToggle = document.getElementById('menuToggle');
    const navLinks = document.getElementById('navLinks');
    
    menuToggle.addEventListener('click', function() {
        const isActive = navLinks.classList.toggle('mobile-active');
        menuToggle.classList.toggle('active');
        menuToggle.setAttribute('aria-expanded', isActive);
        menuToggle.setAttribute('aria-label', isActive ? 'Cerrar menú' : 'Abrir menú');
    });

    // Close menu when a link is clicked
    navLinks.querySelectorAll('a').forEach(link => {
        link.addEventListener('click', () => {
            if (navLinks.classList.contains('mobile-active')) {
                navLinks.classList.remove('mobile-active');
                menuToggle.classList.remove('active');
                menuToggle.setAttribute('aria-expanded', 'false');
                menuToggle.setAttribute('aria-label', 'Abrir menú');
            }
        });
    });
}

// FAQ functionality
function initializeFAQ() {
    document.querySelectorAll('.faq-question').forEach(button => {
        button.addEventListener('click', function() {
            const faqItem = this.parentElement;
            const wasActive = faqItem.classList.contains('active');
            
            // Close all other items
            document.querySelectorAll('.faq-item.active').forEach(item => {
                if(item !== faqItem) {
                    item.classList.remove('active');
                    item.querySelector('.faq-question').setAttribute('aria-expanded', 'false');
                }
            });

            // Toggle current item
            faqItem.classList.toggle('active', !wasActive);
            this.setAttribute('aria-expanded', !wasActive);
        });
    });
}

// Testimonials carousel
let currentTestimonial = 0;
function moveCarousel(direction) {
    const track = document.getElementById('testimonialsTrack');
    const testimonials = track.children.length;
    currentTestimonial = (currentTestimonial + direction + testimonials) % testimonials;
    track.style.transform = `translateX(-${currentTestimonial * (100 / testimonials)}%)`;

    // A small correction for multi-item view if needed later
    track.style.transform = `translateX(-${currentTestimonial * 100}%)`;
}

// Chatbot functionality
function initializeChatbot() {
    const toggle = document.getElementById('chatbotToggle');
    toggle.addEventListener('click', toggleChatbot);
    
    // Add welcome message
    setTimeout(() => {
        addBotMessage('¡Hola! Soy tu asistente virtual. ¿Cómo puedo ayudarte hoy?');
        addQuickReplies(['¿Qué servicios ofreces?', '¿Cuál es el horario?', 'Agendar una consulta']);
    }, 1500);
    
    // Handle form submission
    document.getElementById('chatForm').addEventListener('submit', function(e) {
        e.preventDefault();
        sendMessage();
    });
}

function toggleChatbot() {
    const container = document.getElementById('chatbotContainer');
    const isActive = container.classList.toggle('active');
    container.setAttribute('aria-hidden', !isActive);
}

async function sendMessage() {
    const input = document.getElementById('chatInput');
    const message = input.value.trim();
    if (!message) return;
    
    addUserMessage(message);
    input.value = '';
    addBotMessage('Escribiendo...', 'typing'); // Show typing indicator
    
    const response = await getGeminiResponse(message);
    
    // Remove typing indicator
    const typingIndicator = document.querySelector('.message.typing');
    if (typingIndicator) {
        typingIndicator.remove();
    }

    addBotMessage(response);
}

async function getGeminiResponse(query) {
    const API_URL = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${GEMINI_API_KEY}`;

    const systemPrompt = `
        Eres un asistente virtual amigable y profesional para la psicóloga infantil Lic. Lali Boldrini.
        Tu nombre es "Lali Asistente".
        Responde a las preguntas del usuario de forma concisa y clara, basándote en la siguiente información de contexto.
        No inventes información que no esté proporcionada.
        Al final de CADA respuesta, sin excepción, invita amablemente al usuario a contactar por WhatsApp para una atención más personalizada o a visitar el perfil de Instagram para ver más contenido.
        
        Contexto:
        ${JSON.stringify(knowledgeBase)}
    `;

    const payload = {
        contents: [{
            parts: [{
                text: `${systemPrompt}\n\nPregunta del usuario: "${query}"`
            }]
        }]
    };

    try {
        const response = await fetch(API_URL, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(payload)
        });

        if (!response.ok) {
            console.error("API Error:", response.status, await response.text());
            return "Lo siento, estoy teniendo problemas para conectarme. Por favor, intenta de nuevo más tarde.";
        }

        const data = await response.json();
        const text = data.candidates[0].content.parts[0].text;
        return text;
    } catch (error) {
        console.error("Error fetching Gemini response:", error);
        return "Ups, algo salió mal. Para una respuesta inmediata, te recomiendo contactarnos por WhatsApp.";
    }
}

function addMessage(text, type) {
    const messagesDiv = document.getElementById('chatMessages');
    const messageEl = document.createElement('div');
    messageEl.className = `message ${type}`;
    messageEl.textContent = text;
    messagesDiv.appendChild(messageEl);
    messagesDiv.scrollTop = messagesDiv.scrollHeight;
}

const addBotMessage = (text, type = 'bot') => addMessage(text, type);
const addUserMessage = (text) => addMessage(text, 'user');

function addQuickReplies(options) {
    const messagesDiv = document.getElementById('chatMessages');
    const container = document.createElement('div');
    container.style.cssText = 'display: flex; gap: 8px; flex-wrap: wrap; margin-top: 8px;';
    
    options.forEach(option => {
        const button = document.createElement('button');
        button.textContent = option;
        button.className = 'btn btn-secondary';
        button.style.cssText = 'padding: 6px 12px; font-size: 0.9rem;';
        button.onclick = async () => {
            addUserMessage(option);
            container.remove();
            addBotMessage('Escribiendo...', 'typing');
            const response = await getGeminiResponse(option);
            const typingIndicator = document.querySelector('.message.typing');
            if (typingIndicator) typingIndicator.remove();
            addBotMessage(response);
        };
        container.appendChild(button);
    });
    
    messagesDiv.appendChild(container);
    messagesDiv.scrollTop = messagesDiv.scrollHeight;
}

// Modal for Methodology
function showMethodology() {
    const modal = document.getElementById('methodologyModal');
    modal.classList.add('active');
    modal.setAttribute('aria-hidden', 'false');
}

function hideMethodology() {
    const modal = document.getElementById('methodologyModal');
    modal.classList.remove('active');
    modal.setAttribute('aria-hidden', 'true');
}

// Close modal with Escape key
document.addEventListener('keydown', (event) => {
    if (event.key === 'Escape') {
        hideMethodology();
    }
});
</script>
</body>
</html>



